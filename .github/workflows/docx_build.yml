name: Build DOCX document from LaTeX source
on: [push]
jobs:
  PanDocX_Build:
    runs-on: ubuntu-latest
    steps:
      - name: Setup working directory
        uses: actions/checkout@v2
      - run : mkdir output
      - name: Build DOCX through PanDoc
        uses: docker://pandoc/core:2.18
        with:
          args: >- # allows multi-line parsing
            -s main.tex 
            -f latex 
            -t docx 
            -o output/raw_draft.docx 
            --bibliography Bibliografia/Articoli.bib 
            --bibliography Bibliografia/Testi.bib 
            --bibliography Bibliografia/Web.bib 
            --csl ieee.csl --citeproc
      - name: Prepare artifact and clean-up
        uses: actions/upload-artifact@master
        with:
          name: pandoc
          path: output